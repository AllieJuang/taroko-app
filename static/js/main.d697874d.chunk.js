(this["webpackJsonptaroko-app"]=this["webpackJsonptaroko-app"]||[]).push([[0],{14:function(e,t,n){e.exports={contactCard:"contact-card_contactCard__3aZI5",user:"contact-card_user__2ebcX",title:"contact-card_title__t0RIJ",btns:"contact-card_btns__IEyis"}},20:function(e,t,n){e.exports={modal:"modal_modal__2bhYs",modalFade:"modal_modalFade__2afTT","fade-in":"modal_fade-in__1y9J-",modalOverlay:"modal_modalOverlay__1I_zq",modalClose:"modal_modalClose__3_-55",modalBody:"modal_modalBody__14dLr",loading:"modal_loading__2ds0Y"}},28:function(e,t,n){e.exports={inputText:"input-text_inputText__2t8VG",invalid:"input-text_invalid__3gPE-",small:"input-text_small__kn-Gl",error:"input-text_error__3_WQe"}},30:function(e,t,n){e.exports={contactList:"contact-list_contactList__2pqEQ",loading:"contact-list_loading__2f9In",list:"contact-list_list__1FYra",sort:"contact-list_sort__3WC1H"}},32:function(e,t,n){e.exports={formField:"form-field_formField__3-23z",label:"form-field_label__36nNB",required:"form-field_required__3N-hT"}},33:function(e,t,n){e.exports={header:"header_header__3wy06",navi:"header_navi__1dTxw"}},40:function(e,t,n){e.exports={button:"button_button__H5057",primary:"button_primary__3C1qu",secondary:"button_secondary__1yQBY"}},41:function(e,t,n){e.exports={contactInfo:"contact-info_contactInfo__1eWzW",btns:"contact-info_btns__1Z-Lm"}},69:function(e,t){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(21),o=n.n(r),i=n(27),s=n(22),u=n(5),l="/taroko-app/",d="/taroko-app/contacts",j=n(7),b=n.n(j),O=n(40),f=n.n(O),m=n(1),p=function(e){var t=e.className,n=void 0===t?"primary":t,a=e.name,c=e.action,r=e.disabled,o=e.children;return Object(m.jsxs)("button",{type:"button",className:b()(f.a.button,f.a[n]),onClick:c,disabled:r,children:[a,o]})},_=n(2),v=n(9),h=n(6),x=n(12),C=n.n(x),N=n(17),T=n(78),g=n(77),E=n(46),y=n.n(E),A=function(e,t){var n=y.a.stringify(t,{arrayFormat:"brackets"}),a="https://taroko-contacts-server.herokuapp.com";return""!==n?"".concat(a,"/").concat(e,"?").concat(n):"".concat(a,"/").concat(e)},L=function(){var e=Object(N.a)(C.a.mark((function e(t){var n,a,c,r,o,i,s,u=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"POST",a=u.length>2&&void 0!==u[2]?u[2]:{headers:{}},c=u.length>3&&void 0!==u[3]?u[3]:{},r=A(t,"POST"!==n?c:""),o=new Headers(Object(_.a)({"Content-Type":"application/json",Accept:"application/json"},a.headers)),i="POST"!==n?null:JSON.stringify(c),e.next=8,fetch(r,Object(_.a)(Object(_.a)({},a),{},{headers:o,method:n,body:i}));case 8:return s=e.sent,e.abrupt("return",s.json());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(16),D="GET_CONTACTS",w="UPDATE_CONTACT",F="ADD_CONTACT",S="DELETE_CONTACT",q=Object(T.a)(D,(function(){return Object(N.a)(C.a.mark((function e(){var t,n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("api/contacts","GET");case 2:if(t=e.sent,n=t.statusCode,a=t.data,200===n){e.next=7;break}return e.abrupt("return",[]);case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))})),I=Object(T.a)(F,(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("api/contacts","POST",{headers:{}},e);case 2:a=t.sent,c=a.statusCode,a.message,201===c&&n(q());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),P=Object(T.a)(S,(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("api/contacts","DELETE",{headers:{}},{id:e});case 2:a=t.sent,c=a.statusCode,a.message,200===c&&n(q());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),B=Object(T.a)(w,(function(e){return function(){var t=Object(N.a)(C.a.mark((function t(n){var a,c;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("api/contacts","PUT",{headers:{}},e);case 2:a=t.sent,c=a.statusCode,a.message,200===c&&n(q());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),G={contact:Object(g.a)({GET_CONTACTS_PENDING:function(e){return Object(_.a)(Object(_.a)({},e),{},{contactsLoading:!0})},GET_CONTACTS_FULFILLED:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{contacts:t.payload,contactsLoading:!1})},GET_CONTACTS_REJECTED:function(e){return Object(_.a)(Object(_.a)({},e),{},{contactsLoading:!1})},ADD_CONTACT_PENDING:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!0})},ADD_CONTACT_FULFILLED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})},ADD_CONTACT_REJECTED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})},DELETE_CONTACT_PENDING:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!0})},DELETE_CONTACT_FULFILLED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})},DELETE_CONTACT_REJECTED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})},UPDATE_CONTACT_PENDING:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!0})},UPDATE_CONTACT_FULFILLED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})},UPDATE_CONTACT_REJECTED:function(e){return Object(_.a)(Object(_.a)({},e),{},{loading:!1})}},{contacts:[{id:"1",first_name:"AAAAA",last_name:"bbbbb",job:"ccccc",description:"aaaaa"}],contactsLoading:!1,loading:!1})},J=function(e){return e.contact},R={getContacts:q,addContact:I,deleteContact:P,updateContact:B},U=function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(i.c)(e,n.shouldHooksUpdate),c=Object(i.b)(),r=Object(k.b)(t,c);return[a,r]}(J,R)},V=n(32),H=n.n(V),M=function(e){var t=e.label,n=e.required,a=e.children;return Object(m.jsxs)("div",{className:b()(H.a.formField),children:[Object(m.jsxs)("div",{className:b()(H.a.label),children:[Object(m.jsx)("span",{children:t}),n&&Object(m.jsx)("span",{className:b()(H.a.required),children:"*"})]}),Object(m.jsx)(m.Fragment,{children:a})]})},Z=n(50),W=n(28),Y=n.n(W),z=["className","onChangeValue","onBlurValue","validators"],Q=function(e){var t=e.className,n=void 0===t?"":t,c=e.onChangeValue,r=void 0===c?function(){}:c,o=e.onBlurValue,i=void 0===o?function(){}:o,s=e.validators,u=void 0===s?[]:s,l=Object(Z.a)(e,z),d=l.type,j=void 0===d?"text":d,O=l.value,f=function(e,t){var n=Object(a.useState)(null),c=Object(h.a)(n,2),r=c[0],o=c[1],i={required:"This field is required",email:"The email format is wrong"};return[r,function(){o((function(){return null}));var n={};e.forEach((function(e){"required"!==e||t.trim()?"email"===e&&(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t)||(n=Object(_.a)(Object(_.a)({},n),Object(v.a)({},e,i[e])))):n=Object(v.a)({},e,i[e])})),o((function(){return Object.keys(n).length>0?n:null}))},function(){return"object"===typeof r&&null!==r?Object.keys(r).map((function(e){return r[e]})).reduce((function(e,t){return"".concat(e,"\u3001").concat(t)})):""}]}(u,O),p=Object(h.a)(f,3),x=p[0],C=p[1],N=p[2],T=Object(a.useRef)(!0),g=Object(a.useRef)(!1);return Object(a.useEffect)((function(){T.current?T.current=!1:g.current&&C()}),[O]),Object(a.useEffect)((function(){r(O,x)}),[x]),Object(m.jsxs)("div",{className:b()(Y.a.inputText,Y.a[n],Object(v.a)({},Y.a.invalid,x)),children:[Object(m.jsx)("input",Object(_.a)(Object(_.a)({},l),{},{type:j,onChange:function(e){e.preventDefault();var t=e.target.value?e.target.value:"";r(t,null)},onBlur:function(){C(),g.current=!0,i(O)}})),Object(m.jsx)("div",{className:b()(Y.a.error),children:Object(m.jsx)("span",{children:N()})})]})},X=n(41),$=n.n(X),K={firstName:{value:"",error:null},lastName:{value:"",error:null},job:{value:"",error:null},description:{value:"",error:null}},ee=function(e){var t=e.id,n=e.firstName,c=e.lastName,r=e.job,o=e.description,i=e.close,s=void 0===i?function(){}:i,u=U(),l=Object(h.a)(u,2),d=(l[0].loading,l[1]),j=d.addContact,O=d.updateContact,f=function(e){var t=Object(a.useState)(e),n=Object(h.a)(t,2),c=n[0],r=n[1];return[c,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r((function(a){return Object(_.a)(Object(_.a)({},a),Object(v.a)({},e,{value:t,error:n}))}))},function(e){return r((function(t){return Object(_.a)(Object(_.a)({},t),e)}))},function(e){e.current&&e.current.querySelectorAll("input").forEach((function(e){e.focus(),e.blur()}))}]}(K),x=Object(h.a)(f,3),C=x[0],N=x[1],T=x[2],g=Object(a.useRef)(null);return Object(a.useEffect)((function(){void 0!==t&&T({firstName:{value:n||"",error:null},lastName:{value:c||"",error:null},job:{value:r||"",error:null},description:{value:o||"",error:null}})}),[t]),Object(m.jsx)("div",{className:b()($.a.contactInfo),children:Object(m.jsxs)("form",{ref:g,children:[Object(m.jsx)(M,{label:"First Name",required:!0,children:Object(m.jsx)(Q,{value:C.firstName.value,validators:["required"],onChangeValue:function(e,t){return N("firstName",e,t)}},"firstName")}),Object(m.jsx)(M,{label:"Last Name",required:!0,children:Object(m.jsx)(Q,{value:C.lastName.value,validators:["required"],onChangeValue:function(e,t){return N("lastName",e,t)}},"lastName")}),Object(m.jsx)(M,{label:"Job",required:!0,children:Object(m.jsx)(Q,{value:C.job.value,validators:["required"],onChangeValue:function(e,t){return N("job",e,t)}},"job")}),Object(m.jsx)(M,{label:"Description",required:!0,children:Object(m.jsx)(Q,{value:C.description.value,validators:["required"],onChangeValue:function(e,t){return N("description",e,t)}},"description")}),Object(m.jsxs)("div",{className:b()($.a.btns),children:[Object(m.jsx)(p,{name:"Cancel",className:"secondary",action:s}),Object(m.jsx)(p,{name:"Submit",className:"primary",action:function(){g.current&&g.current.querySelectorAll("input").forEach((function(e){e.focus(),e.blur()}));if(!Object.keys(C).map((function(e){return C[e].error})).some((function(e){return e}))){var e=Object.keys(C).map((function(e){return Object(v.a)({},e,C[e].value)})).reduce((function(e,t){return Object(_.a)(Object(_.a)({},e),t)})),n={first_name:e.firstName,last_name:e.lastName,job:e.job,description:e.description};void 0!==t?O(Object(_.a)(Object(_.a)({},n),{},{id:t})):j(n)}}})]})]})})},te=n(20),ne=n.n(te),ae=document.getElementById("modal-root"),ce=Object(a.forwardRef)((function(e,t){var n=e.className,c=void 0===n?"":n,o=e.children,i=e.fade,s=void 0===i||i,u=e.defaultOpened,l=void 0!==u&&u,d=e.hasBackdrop,j=void 0!==d&&d,O=e.disableClose,f=void 0===O||O,p=Object(a.useState)(l),_=Object(h.a)(p,2),x=_[0],C=_[1],N=Object(a.useCallback)((function(){return C(!1)}),[]);Object(a.useImperativeHandle)(t,(function(){return{open:function(){return C(!0)},close:N}}),[N]);var T=Object(a.useCallback)((function(e){27===e.keyCode&&N()}),[N]);return Object(a.useEffect)((function(){return x&&document.addEventListener("keydown",T,!1),function(){document.removeEventListener("keydown",T,!1)}}),[T,x]),Object(r.createPortal)(x?Object(m.jsxs)("div",{className:b()(ne.a.modal,ne.a[c],Object(v.a)({},ne.a.modalFade,s)),children:[Object(m.jsx)("div",{className:b()(ne.a.modalOverlay),onClick:function(){j&&N()}}),!f&&Object(m.jsx)("span",{role:"button",className:b()(ne.a.modalClose),"aria-label":"close",onClick:N,children:"x"}),Object(m.jsx)("div",{className:b()(ne.a.modalBody),children:o})]}):Object(m.jsx)(m.Fragment,{}),ae)})),re=n(33),oe=n.n(re),ie=function(){var e=Object(u.f)().pathname,t=Object(a.useRef)(null);console.log(e);return Object(m.jsxs)("div",{className:oe.a.header,children:[Object(m.jsx)("div",{children:e===l?Object(m.jsx)(s.b,{className:oe.a.navi,to:d,exact:!0,children:"Home Page"}):Object(m.jsx)(s.b,{className:oe.a.navi,to:l,exact:!0,children:"Contact List"})}),e===d&&Object(m.jsx)(p,{name:"Add Contact",className:"primary",action:function(){t.current&&t.current.open()}}),Object(m.jsx)(ce,{ref:t,children:Object(m.jsx)(ee,{close:function(){t.current&&t.current.close()}})})]})},se=n(19),ue=n(24),le=n(14),de=n.n(le),je=function(e){var t=e.id,n=e.first_name,c=e.last_name,r=e.job,o=e.description,i=U(),s=Object(h.a)(i,2),u=(s[0].loading,s[1].deleteContact),l=function(){var e=window.matchMedia("(max-width: 799px)"),t=window.matchMedia("(max-width: 1279px) and (min-width: 800px)"),n=window.matchMedia("(min-width: 1280px)"),c="desktop";e.matches&&(c="mobile"),t.matches&&(c="tablet");var r=Object(a.useState)(c),o=Object(h.a)(r,2),i=o[0],s=o[1],u=function(e){return function(t){t.matches&&e!==i&&s(e)}};return Object(a.useEffect)((function(){var a=u("mobile"),c=u("tablet"),r=u("desktop");return e.addListener(a),t.addListener(c),n.addListener(r),function(){e.removeListener(a),t.removeListener(c),n.removeListener(r)}}),[i]),i}(),d=Object(a.useRef)(null),j=function(){d.current&&d.current.open()};return Object(m.jsxs)("div",{className:de.a.contactCard,children:[Object(m.jsxs)("div",{className:de.a.user,children:[Object(m.jsx)(ue.a,{icon:se.e}),Object(m.jsxs)("span",{children:[c," ",n]})]}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:de.a.title,children:"Job"}),Object(m.jsx)("span",{className:de.a.value,children:r})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:de.a.title,children:"Description"}),Object(m.jsx)("span",{className:de.a.value,children:o})]})]}),Object(m.jsx)("div",{className:de.a.btns,children:"mobile"!==l?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p,{name:"Edit",className:"primary",action:function(){return j()}}),Object(m.jsx)(p,{name:"Delete",className:"secondary",action:function(){return u(t)}})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ue.a,{icon:se.a,onClick:function(){return j()}}),Object(m.jsx)(ue.a,{icon:se.d,onClick:function(){return u(t)}})]})}),Object(m.jsx)(ce,{ref:d,children:Object(m.jsx)(ee,{id:t,firstName:n,lastName:c,job:r,description:o,close:function(){d.current&&d.current.close()}})})]})},be=n(30),Oe=n.n(be),fe=function(){var e=U(),t=Object(h.a)(e,2),n=t[0],c=n.contactsLoading,r=n.contacts,o=t[1].getContacts,i=Object(a.useState)("ASC"),s=Object(h.a)(i,2),u=s[0],l=s[1],d=Object(a.useMemo)((function(){return r.sort((function(e,t){return"ASC"===u?e.first_name.localeCompare(t.first_name):t.first_name.localeCompare(e.first_name)}))}),[u,r]);return Object(a.useEffect)((function(){console.log(123),o()}),[]),Object(m.jsxs)("div",{className:Oe.a.contactList,children:[Object(m.jsx)("h1",{children:"Contacts"}),c?Object(m.jsx)("div",{className:Oe.a.loading,children:"Loading..."}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:Oe.a.list,children:d.map((function(e){return Object(m.jsx)(je,Object(_.a)({},e),e.id)}))}),Object(m.jsx)(ue.a,{icon:"ASC"===u?se.b:se.c,className:Oe.a.sort,onClick:function(){l("ASC"===u?"DESC":"ASC")}})]})]})},me=function(){return Object(m.jsx)("h1",{children:"HomePage"})};var pe=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(ie,{}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:l,children:Object(m.jsx)(me,{})}),Object(m.jsx)(u.a,{path:d,children:Object(m.jsx)(fe,{})})]})]})},_e=(n(74),n(47)),ve=n.n(_e),he=n(48),xe=n(49),Ce=n.n(xe),Ne=Object(k.c)(Object(_.a)({},G)),Te=[ve.a,he.a,Ce.a],ge=Object(k.d)(Ne,k.a.apply(void 0,Te)),Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(i.a,{store:ge,children:Object(m.jsx)(s.a,{children:Object(m.jsx)(pe,{})})})}),document.getElementById("root")),Ee()}},[[75,1,2]]]);
//# sourceMappingURL=main.d697874d.chunk.js.map